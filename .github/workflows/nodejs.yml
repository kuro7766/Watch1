# .github/workflows/nodejs.yml


on: push # è§¦å‘æ­¤æ–‡ä»¶è¿è¡Œçš„æ¡ä»¶
name: CI/CD # æ­¤å·¥ä½œæµç¨‹ï¼ˆworkflowï¼‰çš„åå­—
jobs:
  FTP-Deploy-Action:
    name: CI&CD # æ­¤ä»»åŠ¡ï¼ˆjobï¼‰çš„åå­—
    runs-on: ubuntu-latest # è¿è¡Œç¯å¢ƒ
    steps:
      - uses: actions/checkout@v2 # åˆ‡æ¢åˆ†æ”¯åˆ°master
#         with:
#           fetch-depth: 2
      - run: git checkout master 
#       - run: git pull --prune
#       - run: git remote prune origin
#       - run: git rebase
#       --prune

      - run: sudo chmod -R 777 ./*
#      - name: "Build Android project"
      - uses: vgaidarji/android-github-actions-build@v1.0.1
        with:
          args: "./gradlew assembleDebug"

      - run: tree ./


#          - name: Deploy ğŸš€
      - uses: JamesIves/github-pages-deploy-action@v4.3.3
        with:
          branch: gh-pages # The branch the action should deploy to.
          folder: ./app/build/apk/debug/app-debug.apk  # The folder the action should deploy.
